<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Matrix â€” Cyberstorm Footer Glasses</title>
<style>
    body {
        margin: 0;
        overflow: hidden;
        background: black;
    }

    canvas {
        display: block;
    }

    #matrixCanvas {
        text-shadow: 0 0 4px #fff;
    }

    /* -------------------- BLACK FOOTER WITH GLASSES -------------------- */
    .footer {
        position: fixed;
        bottom: 0;
        width: 100%;
        height: 140px;
        background: black;
        display: flex;
        justify-content: space-evenly;
        align-items: center;
        z-index: 10;
        box-shadow: 0 -2px 10px rgba(0,255,0,0.5);
        padding-bottom: 10px;
    }

    .footer a img {
        width: clamp(100px, 16vw, 200px);
        height: auto;
        cursor: pointer;
        filter: drop-shadow(0 0 4px #0f0) drop-shadow(0 0 8px #0ff);
        will-change: transform, filter;
        transform-origin: center center;
        transition: none; /* removed to allow real-time jitter/pulse */
    }

    .footer a img:hover {
        transform: scale(1.2);
        filter: drop-shadow(0 0 12px #0f0) drop-shadow(0 0 24px #0ff);
    }
</style>
</head>
<body>

<canvas id="matrixCanvas"></canvas>

<!-- Footer with Glasses Icons -->
<div class="footer">
    <a href="https://link1.com" target="_blank"><img src="glasses.png" alt="Link 1"></a>
    <a href="https://link2.com" target="_blank"><img src="glasses.png" alt="Link 2"></a>
    <a href="https://link3.com" target="_blank"><img src="glasses.png" alt="Link 3"></a>
</div>

<script>
/* -------------------- SYMBOL SET -------------------- */
const symbols = [
    'áš ','áš¢','áš¦','áš©','áš±','áš³','áš·','áš¹','áš»','áš¾','á›','á›ƒ','á›‡','á›ˆ','á›‰','á›Š','á›','á›’','á›–','á›—',
    'áš›','ášœ','áš','áš‘','áš’','áš“','áš”','áš•','áš–','áš—','áš˜','áš™','ášš','áš›','ášœ',
    'ð’€€','ð’€','ð’€‚','ð’€ƒ','ð’€„','ð’€…','ð’€†','ð’€‡','ð’€ˆ','ð’€‰','ð’€Š','ð’€‹',
    'â˜Œ','â˜','âš¯','âš°','âš±','âŸ','âŒ–','â›¢','âš·','âš¸','â¯€','â¯','â¯‚','â¯ƒ'
];

/* -------------------- COLOR SET -------------------- */
const colors = ['#0f0', '#0ff', '#f0f', '#ff0', '#f00', '#0a0', '#0aa', '#fa0'];

/* -------------------- CANVAS SETUP -------------------- */
const canvas = document.getElementById('matrixCanvas');
const ctx = canvas.getContext('2d');
let width = window.innerWidth;
let height = window.innerHeight;
canvas.width = width;
canvas.height = height;

const fontSize = 24;
const columns = Math.floor(width / fontSize);
const drops = Array(columns).fill(0);

/* -------------------- MOUSE POSITION -------------------- */
let mouse = { x: -1000, y: -1000 };
window.addEventListener('mousemove', (e) => {
    mouse.x = e.clientX;
    mouse.y = e.clientY;
});

/* -------------------- SPARK CHAIN SETUP -------------------- */
let sparkChains = [];
function addSparkChain(xIndex) {
    const length = Math.floor(Math.random()*5 + 3);
    sparkChains.push({x: xIndex, start: drops[xIndex], length: length, life: length});
}

/* -------------------- FOOTER ICONS -------------------- */
const footerIcons = Array.from(document.querySelectorAll('.footer a img'));

/* -------------------- GLASSES JITTER & PULSE -------------------- */
function pulseGlasses() {
    footerIcons.forEach(icon => {
        const jitterX = (Math.random() - 0.5) * 6; // subtle X movement
        const jitterY = (Math.random() - 0.5) * 6; // subtle Y movement
        const rotate = (Math.random() - 0.5) * 3; // slight rotation
        icon.style.transform = `translate(${jitterX}px, ${jitterY}px) rotate(${rotate}deg)`;
    });
    requestAnimationFrame(pulseGlasses);
}
pulseGlasses();

/* -------------------- MATRIX DRAW FUNCTION -------------------- */
function drawMatrix() {
    ctx.fillStyle = "rgba(0,0,0,0.05)";
    ctx.fillRect(0,0,width,height);

    ctx.font = fontSize + "px monospace";

    for(let i = 0; i < drops.length; i++){
        const symbol = symbols[Math.floor(Math.random() * symbols.length)];
        const color = colors[Math.floor(Math.random() * colors.length)];

        const x = i * fontSize;
        const y = drops[i] * fontSize;

        // Prevent symbols overlapping footer
        if(y < height - 140){ 
            const dx = mouse.x - x;
            const dy = mouse.y - y;
            const dist = Math.sqrt(dx*dx + dy*dy);

            let sizeFactor = 1;
            let alpha = 1;

            if(dist < 120){
                sizeFactor = 1 + (120 - dist)/150;
                alpha = 0.7 + Math.random()*0.3;
                if(Math.random() < 0.02) addSparkChain(i);
            }

            for(let chain of sparkChains){
                if(i >= chain.x && i < chain.x + chain.length){
                    alpha = 0.8 + Math.random()*0.4;
                    sizeFactor = 1 + 0.4*Math.random();
                }
            }

            ctx.fillStyle = color;
            ctx.globalAlpha = alpha;
            ctx.font = fontSize * sizeFactor + "px monospace";
            ctx.fillText(symbol, x, y);
            ctx.globalAlpha = 1;

            // -------------------- INTERACTIVE FOOTER GLOW --------------------
            footerIcons.forEach(icon => {
                const iconRect = icon.getBoundingClientRect();
                const iconCenterX = iconRect.left + iconRect.width/2;
                const iconCenterY = iconRect.top + iconRect.height/2;

                const iconDist = Math.sqrt((x - iconCenterX)**2 + (y - iconCenterY)**2);

                if(iconDist < 120) {
                    icon.style.filter = `drop-shadow(0 0 12px #0f0) drop-shadow(0 0 24px #0ff)`;
                } else {
                    icon.style.filter = `drop-shadow(0 0 4px #0f0) drop-shadow(0 0 8px #0ff)`;
                }
            });
        }

        if(drops[i] * fontSize > height && Math.random() > 0.975){
            drops[i] = 0;
        }

        drops[i]++;
    }

    sparkChains = sparkChains.map(chain => ({...chain, life: chain.life-1})).filter(c => c.life > 0);

    requestAnimationFrame(drawMatrix);
}
drawMatrix();

/* -------------------- HANDLE RESIZE -------------------- */
window.addEventListener('resize', () => {
    width = window.innerWidth;
    height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;
});
</script>

</body>
</html>
